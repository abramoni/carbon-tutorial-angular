{"version":3,"file":"carbon-components-angular-placeholder.js","sources":["carbon-components-angular/placeholder/placeholder.service.ts","carbon-components-angular/placeholder/placeholder.component.ts","carbon-components-angular/placeholder/placeholder.module.ts","carbon-components-angular/placeholder/carbon-components-angular-placeholder.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tComponentRef,\n\tViewContainerRef,\n\tComponentFactory,\n\tInjector\n} from \"@angular/core\";\nimport { Injectable } from \"@angular/core\";\n\n/**\n * Singleton service used to register the container for out-of-flow components to insert into.\n * Also used to insert/remove components from that view.\n */\n@Injectable()\nexport class PlaceholderService {\n\t/**\n\t * Main `ViewContainerRef` to insert components into\n\t */\n\tprotected viewContainerRef: ViewContainerRef = null;\n\t/**\n\t * Map of id's to secondary `ViewContainerRef`s\n\t */\n\tprotected viewContainerMap: Map<any, ViewContainerRef> = new Map();\n\t/**\n\t * Used by `Placeholder` to register view-container reference.\n\t */\n\tregisterViewContainerRef(vcRef: ViewContainerRef, id?: any): void {\n\t\tif (id) {\n\t\t\tthis.viewContainerMap.set(id, vcRef);\n\t\t} else {\n\t\t\tthis.viewContainerRef = vcRef;\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns component in the view.\n\t */\n\tcreateComponent(componentFactory: ComponentFactory<any>, injector: Injector, id?: any): ComponentRef<any> {\n\t\tif (id) {\n\t\t\tif (!this.viewContainerMap.has(id)) {\n\t\t\t\tconsole.error(`No view container with id ${id} found`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn this.viewContainerMap.get(id).createComponent(componentFactory, null, injector);\n\t\t}\n\t\tif (!this.viewContainerRef) {\n\t\t\tconsole.error(\"No view container defined! Likely due to a missing `ibm-placeholder`\");\n\t\t\treturn;\n\t\t}\n\t\treturn this.viewContainerRef.createComponent(componentFactory, null, injector);\n\t}\n\n\tdestroyComponent(component: ComponentRef<any>) {\n\t\tcomponent.destroy();\n\t}\n\n\thasComponentRef(component: ComponentRef<any>, id?: any) {\n\t\tif (id) {\n\t\t\treturn !(this.viewContainerMap.get(id).indexOf(component.hostView) < 0);\n\t\t}\n\n\t\treturn !(this.viewContainerRef.indexOf(component.hostView) < 0);\n\t}\n\n\thasPlaceholderRef(id?: any) {\n\t\tif (id) {\n\t\t\treturn this.viewContainerMap.has(id);\n\t\t}\n\t\treturn !!this.viewContainerRef;\n\t}\n\n\tappendElement(element: HTMLElement, id?: any): HTMLElement {\n\t\tif (id) {\n\t\t\treturn this.viewContainerMap.get(id).element.nativeElement.appendChild(element);\n\t\t}\n\t\treturn this.viewContainerRef.element.nativeElement.appendChild(element);\n\t}\n\n\tremoveElement(element: HTMLElement, id?: any): HTMLElement {\n\t\tif (id) {\n\t\t\treturn this.viewContainerMap.get(id).element.nativeElement.removeChild(element);\n\t\t}\n\t\treturn this.viewContainerRef.element.nativeElement.removeChild(element);\n\t}\n\n\thasElement(element: HTMLElement, id?: any): boolean {\n\t\tif (id) {\n\t\t\treturn this.viewContainerMap.get(id).element.nativeElement.contains(element);\n\t\t}\n\t\treturn this.viewContainerRef.element.nativeElement.contains(element);\n\t}\n}\n","import {\n\tComponent,\n\tOnInit,\n\tViewContainerRef,\n\tViewChild,\n\tInput\n} from \"@angular/core\";\nimport { PlaceholderService } from \"./placeholder.service\";\n\n/**\n * Using a modal, dialog (Tooltip, OverflowMenu), or any other component that draws out of the normal page flow\n * in your application *requires* this component (`ibm-placeholder`).\n * It would generally be placed near the end of your root app component template\n * (app.component.ts or app.component.html) as:\n *\n * ```\n * <ibm-placeholder></ibm-placeholder>\n * ```\n */\n@Component({\n\tselector: \"ibm-placeholder\",\n\ttemplate: `<div #placeholder></div>`\n})\nexport class Placeholder implements OnInit {\n\t@Input() id: any;\n\t/**\n\t * Maintains a reference to the view DOM element of the `Placeholder`.\n\t */\n\t// @ts-ignore\n\t@ViewChild(\"placeholder\", { read: ViewContainerRef, static: true }) viewContainerRef: ViewContainerRef;\n\n\t/**\n\t * Creates an instance of `Placeholder`.\n\t */\n\tconstructor(public placeholderService: PlaceholderService) { }\n\n\t/**\n\t * Registers the components view with `PlaceholderService`\n\t */\n\tngOnInit() {\n\t\t// TODO use `id` to register with the placeholderService\n\t\tthis.placeholderService.registerViewContainerRef(this.viewContainerRef);\n\t}\n}\n","// modules\nimport { NgModule, SkipSelf, Optional } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\n\n// imports\nimport { Placeholder } from \"./placeholder.component\";\nimport { PlaceholderService } from \"./placeholder.service\";\n\n// either provides a new instance of PlaceholderService, or returns the parent\nexport function PLACEHOLDER_SERVICE_PROVIDER_FACTORY(parentService: PlaceholderService) {\n\treturn parentService || new PlaceholderService();\n}\n\n// placeholder service *must* be a singleton to ensure the placeholder viewRef is accessible globally\nexport const PLACEHOLDER_SERVICE_PROVIDER = {\n\tprovide: PlaceholderService,\n\tdeps: [[new Optional(), new SkipSelf(), PlaceholderService]],\n\tuseFactory: PLACEHOLDER_SERVICE_PROVIDER_FACTORY\n};\n\n@NgModule({\n\tdeclarations: [ Placeholder ],\n\texports: [ Placeholder ],\n\tproviders: [ PLACEHOLDER_SERVICE_PROVIDER ],\n\timports: [ CommonModule ]\n})\nexport class PlaceholderModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}